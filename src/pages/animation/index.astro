---
import Layout from '@layouts/Layout.astro';
import style from '@styles/contentPage.module.css';
import ContentCard from '@components/ContentCard.astro';
import { getCollection } from 'astro:content';

const entries = (await getCollection('animations')).sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf());
---
<Layout title="RL Animation">
  <div class={style.banner}>
    <video autoplay loop muted>
      <source src="/animation/banner.mp4" type="video/mp4">
    </video>
  </div>
  <h1 class={style.title}>Animation</h1>
  <div class={style.cards}>
    {entries.map(entry => <ContentCard img={`/animation/thumbnails/${entry.slug}.avif`} title={entry.data.title} date={entry.data.date} length={entry.data.length} alt={entry.data.alt} url={`/animation/${entry.slug}/`} />)}
  </div>
</Layout>
